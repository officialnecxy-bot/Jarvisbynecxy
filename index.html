<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NECXY | NUCLEAR V16</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --red: #FF003C; --glass: rgba(10, 10, 10, 0.9); }
        body { background: #000; color: white; font-family: 'Outfit', sans-serif; min-height: 100vh; overflow-x: hidden; }
        .header-font { font-family: 'Space Grotesk', sans-serif; }
        
        /* Ultra Elite Glassmorphism */
        .glass { background: var(--glass); backdrop-filter: blur(50px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .red-neon { color: var(--red); text-shadow: 0 0 20px rgba(255, 0, 60, 0.8); }
        .bg-red { background: var(--red); box-shadow: 0 0 35px rgba(255, 0, 60, 0.4); }
        
        /* Animations */
        @keyframes scan { 0% { top: -100%; } 100% { top: 200%; } }
        .scanner { position: absolute; width: 100%; height: 4px; background: var(--red); opacity: 0.2; animation: scan 3s linear infinite; }
        
        .history-drawer { transition: transform 0.6s cubic-bezier(0.19, 1, 0.22, 1); transform: translateX(100%); }
        .drawer-open { transform: translateX(0); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .otp-highlight { background: rgba(255, 0, 60, 0.1); border: 1px solid var(--red); font-weight: 900; color: var(--red); }
    </style>
</head>
<body class="bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-zinc-900 via-black to-black">

    <nav class="p-5 mx-4 mt-4 glass rounded-[35px] flex justify-between items-center sticky top-4 z-50">
        <div>
            <h1 class="header-font text-2xl font-bold tracking-tighter uppercase italic text-white leading-none">NECXY<span class="red-neon">V16</span></h1>
            <p class="text-[7px] font-bold uppercase tracking-[4px] text-zinc-600 mt-1">Life-Critical Stealth Node</p>
        </div>
        <div class="flex gap-2">
            <button onclick="toggleHistory()" class="w-12 h-12 glass rounded-2xl flex items-center justify-center text-xl hover:text-red-600 transition-all"><i class="fa-solid fa-clock-rotate-left"></i></button>
            <div class="w-12 h-12 glass rounded-2xl flex items-center justify-center text-xs font-bold text-green-500 animate-pulse">LIVE</div>
        </div>
    </nav>

    <main class="px-4 mt-12 max-w-4xl mx-auto w-full mb-20">
        <div class="glass p-10 rounded-[60px] text-center relative overflow-hidden mb-10 border-white/5">
            <div class="scanner"></div>
            <p class="text-[10px] font-black uppercase tracking-[8px] text-zinc-500 mb-6">Social Bypass Alias</p>
            <div class="flex flex-col items-center gap-8">
                <h2 id="email-addr" class="text-xl md:text-3xl font-black tracking-tighter text-white break-all drop-shadow-2xl">GENERATE_TO_START</h2>
                <div class="flex flex-wrap justify-center gap-4">
                    <button onclick="copyMail()" class="w-16 h-16 glass rounded-2xl flex items-center justify-center text-xl hover:bg-white/10 active:scale-90 transition-all"><i class="fa-solid fa-copy"></i></button>
                    <button onclick="initNewIdentity()" class="bg-red px-10 py-4 rounded-[28px] font-black uppercase text-xs tracking-[5px] text-white active:scale-95 transition-all">NEW IDENTITY</button>
                    <button onclick="syncInbox()" class="w-16 h-16 glass rounded-2xl flex items-center justify-center text-xl hover:bg-white/10 active:scale-90 transition-all"><i id="sync-icon" class="fa-solid fa-arrows-rotate"></i></button>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10">
            <div class="glass p-5 rounded-3xl text-center"><i class="fa-solid fa-shield-virus text-red-600 mb-2"></i><p class="text-[8px] font-black uppercase tracking-widest">Anti-Detection</p></div>
            <div class="glass p-5 rounded-3xl text-center"><i class="fa-solid fa-ghost text-red-600 mb-2"></i><p class="text-[8px] font-black uppercase tracking-widest">Stealth Node</p></div>
            <div class="glass p-5 rounded-3xl text-center"><i class="fa-solid fa-lock text-red-600 mb-2"></i><p class="text-[8px] font-black uppercase tracking-widest">SSL Secure</p></div>
            <div onclick="wipeAll()" class="glass p-5 rounded-3xl text-center cursor-pointer hover:bg-red-950/20"><i class="fa-solid fa-skull text-red-600 mb-2"></i><p class="text-[8px] font-black uppercase tracking-widest">Wipe Data</p></div>
        </div>

        <div class="mb-32">
            <div class="flex justify-between items-center px-4 mb-8">
                <h3 class="header-font text-xs font-bold uppercase tracking-[6px] text-zinc-500">Signal_Log</h3>
                <span id="msg-count" class="text-[9px] font-black glass px-4 py-2 rounded-xl text-red-600">0 PACKETS</span>
            </div>
            <div id="inbox-list" class="space-y-4">
                <div class="glass p-20 rounded-[50px] text-center border-dashed border-white/5 opacity-20">
                    <i class="fa-solid fa-satellite-dish text-5xl mb-4"></i>
                    <p class="text-[10px] font-bold uppercase tracking-[4px]">Awaiting Decryption...</p>
                </div>
            </div>
        </div>
    </main>

    <div id="history-panel" class="fixed inset-y-0 right-0 w-full max-w-sm glass z-[100] border-l border-white/10 history-drawer flex flex-col shadow-2xl">
        <div class="p-8 border-b border-white/5 flex justify-between items-center">
            <h3 class="header-font font-bold uppercase tracking-[5px] text-sm text-red-600">Session_History</h3>
            <button onclick="toggleHistory()" class="text-xl text-zinc-500"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div id="history-list" class="flex-grow overflow-y-auto p-6 space-y-4 no-scrollbar"></div>
    </div>

    <div id="reader" class="fixed inset-0 z-[200] hidden items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/98 backdrop-blur-3xl" onclick="closeReader()"></div>
        <div class="glass w-full max-w-4xl rounded-[55px] relative z-10 flex flex-col border-white/10 overflow-hidden max-h-[85vh]">
            <div class="p-8 border-b border-white/5 flex justify-between items-center bg-black">
                <div class="overflow-hidden">
                    <p id="m-from" class="text-red-600 text-[9px] font-black uppercase tracking-widest mb-1"></p>
                    <h2 id="m-sub" class="text-white font-black uppercase text-lg italic truncate pr-10"></h2>
                </div>
                <button onclick="closeReader()" class="w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-white hover:bg-red-600 transition-all"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div id="otp-panel" class="hidden mx-8 mt-6 p-6 rounded-3xl otp-highlight text-center text-3xl tracking-[10px]"></div>
            <div id="m-body" class="p-8 overflow-y-auto no-scrollbar text-sm text-zinc-400 bg-transparent"></div>
        </div>
    </div>

    <footer class="py-10 border-t border-white/5 text-center mt-auto bg-black">
        <p class="header-font text-[10px] tracking-[15px] text-zinc-800 italic">NECXY DEVELOPER</p>
    </footer>

    <script>
        const API = "https://www.1secmail.com/api/v1/";
        const PROXY = "https://cors-anywhere.herokuapp.com/"; // If this fails, AllOrigins is fallback
        const FALLBACK_PROXY = "https://api.allorigins.win/raw?url=";
        
        let activeMail = "";

        async function initNewIdentity() {
            const el = document.getElementById('email-addr');
            el.innerText = "ROTATING NODES...";
            const user = Math.random().toString(36).substring(2, 10);
            const domains = ["esiix.com", "wwjmp.com", "vjuum.com", "icznn.com"];
            const domain = domains[Math.floor(Math.random() * domains.length)];
            
            activeMail = `${user}@${domain}`;
            el.innerText = activeMail;

            // Save History
            let history = JSON.parse(localStorage.getItem('necxy_history') || '[]');
            history.unshift(activeMail);
            localStorage.setItem('necxy_history', JSON.stringify(history.slice(0, 10)));
            
            syncInbox();
        }

        async function syncInbox() {
            if(!activeMail) return;
            const icon = document.getElementById('sync-icon');
            icon.classList.add('fa-spin');
            
            const [u, d] = activeMail.split('@');
            const url = `${API}?action=getMessages&login=${u}&domain=${d}`;
            
            try {
                // Try with AllOrigins first as it's more stable for 1secmail
                const res = await fetch(FALLBACK_PROXY + encodeURIComponent(url));
                const data = await res.json();
                renderInbox(data);
            } catch (e) { console.log("Sync Fail"); }
            finally { setTimeout(() => icon.classList.remove('fa-spin'), 1000); }
        }

        function renderInbox(msgs) {
            const container = document.getElementById('inbox-list');
            document.getElementById('msg-count').innerText = `${msgs.length} PACKETS`;
            if (msgs.length === 0) return;
            container.innerHTML = msgs.map(m => `
                <div onclick="readMail('${m.id}')" class="glass p-6 rounded-[35px] border-white/5 hover:border-red-600 transition-all cursor-pointer flex justify-between items-center active:scale-95">
                    <div class="overflow-hidden pr-4">
                        <span class="text-[8px] font-black text-red-600 uppercase tracking-widest">${m.from}</span>
                        <h4 class="text-sm font-bold text-white truncate">${m.subject || '(Instagram OTP)'}</h4>
                    </div>
                    <i class="fa-solid fa-chevron-right text-zinc-800"></i>
                </div>
            `).join('');
        }

        async function readMail(id) {
            const [u, d] = activeMail.split('@');
            try {
                const res = await fetch(FALLBACK_PROXY + encodeURIComponent(`${API}?action=readMessage&login=${u}&domain=${d}&id=${id}`));
                const data = await res.json();
                
                document.getElementById('m-from').innerText = "FROM: " + data.from;
                document.getElementById('m-sub').innerText = data.subject || "DECRYPTED_SIGNAL";
                document.getElementById('m-body').innerHTML = data.htmlBody || `<pre class="whitespace-pre-wrap">${data.body}</pre>`;
                
                // OTP AUTO-DETECTOR
                const otp = data.body.match(/\b\d{6}\b/);
                if(otp) {
                    document.getElementById('otp-panel').innerText = otp[0];
                    document.getElementById('otp-panel').classList.remove('hidden');
                } else {
                    document.getElementById('otp-panel').classList.add('hidden');
                }

                document.getElementById('reader').classList.remove('hidden');
                document.getElementById('reader').classList.add('flex');
            } catch (e) { alert("Buffer Error"); }
        }

        function toggleHistory() {
            const panel = document.getElementById('history-panel');
            panel.classList.toggle('drawer-open');
            const list = document.getElementById('history-list');
            const history = JSON.parse(localStorage.getItem('necxy_history') || '[]');
            list.innerHTML = history.map(h => `
                <div onclick="restoreMail('${h}')" class="glass p-5 rounded-3xl border-white/5 cursor-pointer hover:border-red-600/40 text-xs font-bold truncate">${h}</div>
            `).join('');
        }

        function restoreMail(m) { activeMail = m; document.getElementById('email-addr').innerText = m; toggleHistory(); syncInbox(); }
        function wipeAll() { localStorage.removeItem('necxy_history'); location.reload(); }
        function copyMail() { navigator.clipboard.writeText(activeMail); alert("Copied!"); }
        function closeReader() { document.getElementById('reader').classList.add('hidden'); }

        window.onload = initNewIdentity;
        setInterval(syncInbox, 15000);
    </script>
</body>
</html>
